package fr.hokanosekai.listeners.player;import fr.hokanosekai.Main;import fr.hokanosekai.db.DbConnection;import org.apache.logging.log4j.core.config.plugins.Plugin;import org.bukkit.entity.Player;import org.bukkit.event.EventHandler;import org.bukkit.event.Listener;import org.bukkit.event.player.PlayerJoinEvent;import org.bukkit.potion.PotionEffect;import org.bukkit.potion.PotionEffectType;import java.sql.*;import java.util.Map;import java.util.UUID;public class OnJoinListener implements Listener {    private Main main;    public OnJoinListener(Main main){        this.main = main;    }    @EventHandler    public void onJoin(PlayerJoinEvent e){        final UUID uuid = e.getPlayer().getUniqueId();        final Player player = e.getPlayer();        //final DbConnection loginConnection = main.getDbManager().getLoginConnection();        if (!main.getLoginManager().isLogged(uuid)){            player.addPotionEffect(new PotionEffect(PotionEffectType.BLINDNESS, 1000000, 1));        } else {            player.sendMessage("§eHello §7"+player.getDisplayName());        }    }}